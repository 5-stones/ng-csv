/*! ngcsv 27-08-2013 */
!function(){angular.module("ngCsv.config",[]).value("ngCsv.config",{debug:!0}).config(["$compileProvider",function(a){a.urlSanitizationWhitelist(/^\s*(https?|ftp|mailto|file|data):/)}]),angular.module("ngCsv.directives",[]),angular.module("ngCsv",["ngCsv.config","ngCsv.directives","ngSanitize"]),angular.module("ngCsv.directives",[]).directive("ngCsv",["$parse",function(){return{restrict:"AC",replace:!0,transclude:!0,scope:{data:"=ngCsv",filename:"@filename"},controller:function(a){a.csv="",a.$watch("data",function(b){a.buildCsv(b)}),a.buildCsv=function(b){var c="data:text/csv;charset=utf-8,";angular.forEach(b,function(a,d){var e,f;angular.isArray(a)?f=a:(f=[],angular.forEach(a,function(a){this.push(a)},f)),e=f.join(","),c+=d<b.length?e+"\n":e}),a.csv=encodeURI(c)},a.getFilename=function(){return a.filename?a.filename:"download.csv"}},template:'<div class="csv-wrap"><div class="element" ng-transclude></div><a class="hidden-link" ng-hide="true" ng-href="{{ csv }}" download="{{ getFilename() }}"></a></div>',link:function(a,b){var c=angular.element(b.children()[0]),d=angular.element(b.children()[1]);c.bind("click",function(){d[0].click()})}}}])}(window,document);